{"version":3,"sources":["assets/images/user.png","api/api.js","redux/dialogs-reducer.js","components/News/News.module.css","assets/images/newsImage.png","components/Music/Music.module.css","assets/images/musicImage.png","components/Setting/Setting.module.css","assets/images/settings.png","assets/images/load.gif","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Setting/Setting.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/common/Preloader/Preloader.jsx","redux/users-selecrors.js","components/Users/UsersContainer.jsx","redux/auth-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Users/users.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Navbar","c","nav","item","to","activeClassName","active","News","s","newsImage","src","alt","Music","musicImage","Setting","settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","p","selectedPage","pageNumber","key","e","User","user","photos","small","userPhoto","disabled","some","Users","Preloader","preloader","style","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","isAuth","React","Component","compose","connect","auth","bind","page","totalCount","SET_USER_DATA","uderId","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","app","formReduser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","value","maxLengthCreator","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.2cf4748e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.f4f3dd7a.png\";","import * as axios from 'axios';\r\nconst instance=axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'e8e604f3-216c-4026-8739-6d2629efafea'\r\n    }\r\n})\r\nexport const usersAPI={\r\n    getUsers(currentPage=1, pageSize=10){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response=>{\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId){\r\n    return instance.post(`follow/${userId}`, {}, {   \r\n        })\r\n    },\r\n    unfollow(userId){\r\n    return instance.delete(`follow/${userId}`, {  \r\n        })\r\n    },\r\n    getProfile(userId){\r\n    return profileAPI.getProfile(userId);\r\n    }\r\n}\r\nexport const profileAPI={\r\n    getProfile(userId){\r\n      return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile){\r\nconst formData=new FormData();\r\nformData.append('image', photoFile);\r\nreturn instance.put(`profile/photo`, formData, {\r\n    headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n    }\r\n})\r\n    },\r\nsaveProfile(profile){\r\nreturn instance.put(`profile`, profile) \r\n}\r\n}\r\nexport const authAPI={\r\n    me(){\r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe=false, captcha=null){\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\nexport const securityAPI={\r\n    getCaptchaUrl(){\r\n       return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","const SEND_MESSAGE='SEND-MESSAGE';\r\nlet initialState={\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Hello'}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Maxim'},\r\n        {id: 2, name: 'Sveta'},\r\n        {id: 3, name: 'Sasha'},\r\n        {id: 4, name: 'Victor'}\r\n    ]\r\n}\r\nconst dialogsReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        \r\n        case SEND_MESSAGE: \r\n        let body=action.newMessageBody;\r\n        return{\r\n            ...state,\r\n            messages: [...state.messages, {id: 6, message: body}]\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const sendMessageCreator=(newMessageBody)=>({type: SEND_MESSAGE, newMessageBody});\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsImage\":\"News_newsImage__1Fk2M\"};","module.exports = __webpack_public_path__ + \"static/media/newsImage.9b45d1e7.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicImage\":\"Music_musicImage__2mD8r\"};","module.exports = __webpack_public_path__ + \"static/media/musicImage.11174361.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Setting_settings__16RcE\"};","module.exports = __webpack_public_path__ + \"static/media/settings.3b2396f8.png\";","module.exports = __webpack_public_path__ + \"static/media/load.14707564.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1Iw7p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2TTKe\",\"item\":\"Navbar_item__3Vy19\",\"active\":\"Navbar_active__3ATEB\"};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControls.module.css';\r\nconst FormControl=({input, meta: {touched, error}, children})=>{\r\n    const hasError=touched&&error;\r\n   \r\n    return(\r\n        <div className={styles.formControl+' '+(hasError?styles.error: ' ')}>\r\n            <div>\r\n            {children}\r\n            </div>\r\n    {hasError&&<span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n     <FormControl {...props} ><textarea {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\n\r\nexport const Input=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n        <FormControl {...props} ><input {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\nexport const createField=(placeholder, name, validators, component, props={}, text='')=>(\r\n   <div>\r\n       <Field placeholder={placeholder} name={name} \r\n        validate={validators}\r\n        component={component}\r\n        {...props}/>\r\n        {text}\r\n        </div>\r\n)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from './Navbar.module.css';\r\nconst Navbar =()=>{\r\n return (\r\n <nav className={c.nav}>\r\n      <div className={c.item}><NavLink to='/profile' activeClassName={c.active}>Profile</NavLink></div>\r\n      <div className={c.item}><NavLink to='/dialogs' activeClassName={c.active}>Messages</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/news' activeClassName={c.active}>News</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/music' activeClassName={c.active}>Music</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/setting' activeClassName={c.active}>Settings</NavLink></div> \r\n      <div className={c.item}><NavLink to='/users' activeClassName={c.active}>Users</NavLink></div>  \r\n </nav>\r\n )\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.css';\r\nimport newsImage from './../../assets/images/newsImage.png';\r\nconst News=(props)=>{\r\nreturn <img className={s.newsImage} src={newsImage} alt='newsImage'/>\r\n}\r\nexport default News;\r\n\r\n  ","import React from 'react';\r\nimport s from './Music.module.css';\r\nimport musicImage from './../../assets/images/musicImage.png';\r\nconst Music=(props)=>{\r\nreturn <img className={s.musicImage} src={musicImage} alt='musicImage'/>\r\n}\r\nexport default Music;\r\n\r\n  ","import React from 'react';\r\nimport s from './Setting.module.css';\r\nimport settings from './../../assets/images/settings.png';\r\nconst Setting=(props)=>{\r\nreturn(<img className={s.settings}src={settings} alt='settings'/>\r\n)\r\n}\r\nexport default Setting;\r\n\r\n  ","export const updateObjectInArray=(items, itemId, objPropName, newObjProps)=>{\r\n  return  items.map(u=>{\r\n        if(u[objPropName]===itemId){\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n})\r\n}","import {usersAPI} from '../api/api';\r\nimport {updateObjectInArray} from './../utils/object-helpers';\r\nconst FOLLOW='FOLLOW';\r\nconst UNFOLLOW='UNFOLLOW';\r\nconst SET_USERS='SET_USERS';\r\nconst SET_CURRENT_PAGE='SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT='SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING='TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS='TOGGLE_IS_FOLLOWING_PROGRESS';\r\nlet initialState={\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 2,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n  fake: 10\r\n}\r\nconst usersReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case FOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n        }\r\n        case UNFOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {...state, \r\n                followingInProgress: action.isFetching\r\n                ?[...state.followingInProgress, action.userId]\r\n            :state.followingInProgress.filter(id=>id!=action.userId)}\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const followSuccess=(userId)=>({type: FOLLOW, userId});\r\nexport const unfollowSuccess=(userId)=>({type: UNFOLLOW, userId});\r\nexport const setUsers=(users)=>({type: SET_USERS, users});\r\nexport const setCurrentPage=(currentPage)=>({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount=(totalUsersCount)=>({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching=(isFetching)=>({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress=(isFetching, userId)=>({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, \r\n    isFetching, \r\n    userId});\r\nexport const requestUsers=(page, pageSize)=>{\r\n    return async (dispatch)=>{\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data=await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n}\r\nexport const followUnfollowFlow=async(dispatch, userId, apiMethod, actionCreator)=>{\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response=await apiMethod(userId);\r\n    if(response.data.resultCode==0){\r\n    dispatch(actionCreator(userId));\r\n     }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\nexport const follow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n    }\r\nexport const unfollow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\nlet Paginator=({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize=10})=>{\r\n        let pagesCount=Math.ceil(totalItemsCount/pageSize);\r\n        let pages=[];\r\n        for(let i=1; i<=pagesCount; i++){\r\npages.push(i);\r\n        }\r\n        let portionCount=Math.ceil(pagesCount/portionSize);\r\n        let [portionNumber, setPortionNumber]=useState(1);\r\n        let leftPortionPageNumber=(portionNumber-1)*portionSize+1;\r\n        let rightPortionPageNumber=portionNumber*portionSize;\r\n    return <div className={cn(styles.paginator)}>\r\n        {portionNumber>1&&\r\n        <button onClick={()=>{setPortionNumber(portionNumber-1)}}>PREV</button>}\r\n    {pages.filter(p=>p>=leftPortionPageNumber&&p<=rightPortionPageNumber)\r\n    .map((p)=>{\r\n        return <span className={cn({\r\n            [styles.selectedPage]: currentPage===p\r\n        }, styles.pageNumber)}\r\n        key={p}\r\n        onClick={(e)=>{\r\n            onPageChanged(p);\r\n        }}>{p}</span>\r\n    })}\r\n    {portionCount>portionNumber&&\r\n    <button onClick={()=>{setPortionNumber(portionNumber+1)}}>NEXT</button>}\r\n</div>\r\n}\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nlet User=({user, followingInProgress, unfollow, follow})=>(\r\n    <div className={styles.users}>\r\n    <span>\r\n        <div>\r\n            <NavLink to={'./profile/' + user.id}>\r\n            <img alt='userPhoto' src={user.photos.small!==null? user.photos.small:userPhoto} className={styles.userPhoto}/>\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            {user.followed\r\n            ?<button disabled={followingInProgress.some(id=>id===user.id)} \r\n            onClick={()=>{\r\n            unfollow(user.id);\r\n             }}>Unfollow</button>\r\n            :<button disabled={\r\n                followingInProgress.some(id=>id===user.id)} \r\n                onClick={()=>{\r\n                follow(user.id);\r\n            }}>Follow</button>}\r\n        </div>\r\n    </span>\r\n    <span>\r\n        <span>\r\n         <div>{user.name}</div>\r\n         <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n         <div>{'user.location.country'}</div>\r\n         <div>{'user.location.city'}</div>\r\n        </span>\r\n    </span>\r\n    </div>\r\n)\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User.jsx';\r\nlet Users=({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props})=>{\r\n   return  <div>\r\n   <Paginator currentPage={currentPage} onPageChanged={onPageChanged} \r\n    totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n    <div>\r\n    {\r\n     users.map(u=><User user={u}\r\n        followingInProgress={props.followingInProgress}\r\n        key={u.id}\r\n        unfollow={props.unfollow}\r\n        follow={props.follow}\r\n        />\r\n        )\r\n    }\r\n </div>\r\n </div>\r\n}\r\nexport default Users;","import React from 'react';\r\nimport preloader from '../../../assets/images/load.gif';\r\nimport style from './Preloader.module.css';\r\nlet Preloader=(props)=>{\r\n    return <div>\r\n<img alt='preloader' src={preloader} className={style.preloader}/>\r\n    </div>\r\n}\r\nexport default Preloader;","import { createSelector } from 'reselect';\r\nconst getUsersSelector=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers=createSelector(getUsersSelector,  (users)=>{\r\n    return users.filter(u=>true);\r\n})\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount=(state)=>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, setCurrentPage,  unfollow, toggleFollowingProgress, requestUsers} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport {getUsers, getPageSize,  getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selecrors';\r\nimport { Redirect } from 'react-router-dom';\r\nclass UsersContainer extends React.Component{\r\n  componentDidMount(){ \r\n      const{currentPage, pageSize}=this.props;\r\n      this.props.getUsers(currentPage, pageSize);\r\n    }\r\n      onPageChanged=(pageNumber)=>{\r\n        const {pageSize}=this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n      }\r\n      \r\n        render() { \r\n          if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n        return <> \r\n        {this.props.isFetching?<Preloader/>:null}\r\n        <Users  totalUsersCount={this.props.totalUsersCount} \r\n        pageSize={this.props.pageSize} \r\n        currentPage={this.props.currentPage} \r\n        onPageChanged={this.onPageChanged} \r\n        followingInProgress={this.props.followingInProgress}\r\n        users={this.props.users} \r\n        follow={this.props.follow} \r\n        unfollow={this.props.unfollow}/></>\r\n        }\r\n}\r\nlet mapStateToProps=(state)=>{\r\n  return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state),\r\n      isAuth: state.auth.isAuth\r\n }\r\n}\r\nexport default compose(\r\nconnect(mapStateToProps,\r\n  {\r\nfollow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers\r\n}),\r\n)(UsersContainer);","import { authAPI, securityAPI } from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\nconst SET_USER_DATA='samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS='GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState={\r\n  uderId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n}\r\nconst authReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n    case SET_USER_DATA: \r\n    case GET_CAPTCHA_URL_SUCCESS: \r\n    return{\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const setAuthUserData=(userId, email, login, isAuth)=>({\r\n  type: SET_USER_DATA, \r\n  payload: {userId, email, login, isAuth}});\r\n  export const getCaptchaUrlSuccess=(captchaUrl)=>({\r\n  type: GET_CAPTCHA_URL_SUCCESS, \r\n  payload: {captchaUrl}});\r\nexport const getAuthUserData=()=>async(dispatch)=>{\r\n let response= await authAPI.me();\r\n      if(response.data.resultCode===0){\r\n        let {id, login, email}=response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n      }\r\n  }\r\nexport const login=(email, password, rememberMe, captcha)=>async(dispatch)=>{\r\n  let response=await authAPI.login(email, password, rememberMe, captcha);\r\n    if(response.data.resultCode===0){\r\n      dispatch(getAuthUserData());\r\n      dispatch(getCaptchaUrlSuccess(''));\r\n    }else if(response.data.resultCode===10){\r\n      dispatch(getCaptchaUrl());\r\n      let message=  response.data.messages.length>0?response.data.messages[0]:'Some error'\r\n      dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n  }\r\n  export const getCaptchaUrl=()=>async(dispatch)=>{\r\n    const response=await securityAPI.getCaptchaUrl();\r\n    const captchaUrl=response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n    }   \r\nexport const logout=()=>async(dispatch)=>{\r\n  let response=await authAPI.logout();\r\n  if(response.data.resultCode===0){\r\n  dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nconst Header =(props)=>{\r\nreturn <header className={s.header}>\r\n   <img src='https://cdn.pixabay.com/photo/2016/03/31/19/23/cat-1294968_960_720.png' alt='logo'/>\r\n   <div className={s.loginBlock}>\r\n    {props.isAuth? \r\n    <div>{props.login} - <button onClick={props.logout}>Log out</button></div>:<NavLink to={'/login'}>Login</NavLink>}\r\n  </div>\r\n  </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\nclass HeaderContainer extends React.Component{\r\n  render(){\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\nconst mapStateToProps=(state)=>({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from './../common/FormsControls/FormsControls.module.css';\r\nconst Login=(props)=>{\r\n    const onSubmit=(formData)=>{\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div> \r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n}\r\nconst LoginForm=({handleSubmit, error, captchaUrl})=>{\r\n    return <form onSubmit={handleSubmit}>\r\n    {createField('Email', 'email', [required], Input)}\r\n    {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n    {createField(null, 'input', [], Input, {type: 'checkbox'})}\r\n    {captchaUrl&&<img alt='captcha' src={captchaUrl}/>}\r\n    {captchaUrl&&createField('Symbols from image', 'captcha', [required], Input)}\r\n   {error&&<div className={style.formSummaryError}>\r\n{error}\r\n    </div>}\r\n    <div>\r\n    <button>Login</button>\r\n    </div>\r\n</form>\r\n}\r\nconst LoginReduxForm=reduxForm({form: 'login'})(LoginForm);\r\nconst mapStateToProps=(state)=>({\r\ncaptchaUrl: state.auth.captchaUrl,\r\nisAuth: state.auth.isAuth\r\n})\r\nexport default connect (mapStateToProps, {login})(Login);","import { getAuthUserData } from './auth-reducer';\r\nconst INITIALIZED_SUCCESS='INITIALIZED_SUCCESS';\r\nlet initialState={\r\n  initialized: false,\r\n  globalError: null\r\n}\r\nconst appReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS: \r\n    return{\r\n        ...state,\r\n      initialized: true\r\n    }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const initializedSuccess=()=>({type: INITIALIZED_SUCCESS});\r\nexport const initializeApp=()=>(dispatch)=>{\r\nlet promise=dispatch(getAuthUserData());\r\nPromise.all([promise])\r\n.then(()=>{\r\n  dispatch(initializedSuccess());  \r\n});\r\n}\r\nexport default appReducer;","let initialState={}\r\nconst sidebarReducer=(state=initialState, action)=>{\r\nreturn state;\r\n}\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReduser} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers=combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReduser\r\n})\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\nexport const withSuspense=(Component)=>{\r\n    return (props)=>{\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {HashRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Setting from './components/Setting/Setting';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\nconst DialogsContainer=React.lazy(()=>import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer=React.lazy(()=>import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount(){\r\n    this.props.initializeApp();\r\n   }\r\n  render(){\r\n    if(!this.props.initialized){\r\n    return <Preloader/>\r\n    }\r\n    else{\r\n  return (\r\n    <div className='app-wrapper'>\r\n     <HeaderContainer/>\r\n     <Navbar/>\r\n    <div className='app-wrapper-content'> \r\n    <Switch>\r\n    <Route exact path='/' render={()=><Redirect to={'/profile'}/>}/>\r\n    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n    <Route path='/news' render={()=><News/>}/>\r\n    <Route path='/music' render={()=><Music/>}/>\r\n    <Route path='/setting' render={()=><Setting/>}/>\r\n    <Route path='/users' render={()=><UsersContainer/>}/>\r\n    <Route path='/login' render={()=><LoginPage/>}/>\r\n    <Route path='*' render={()=><div>404 NOT FOUND</div>}/>\r\n    </Switch>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n  }\r\n}\r\nconst mapStateToProps=(state)=>({\r\n  initialized: state.app.initialized\r\n})\r\nlet AppContainer=compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeApp}))(App)\r\n const SamuraiJSApp=(props)=>{\r\n   return  <HashRouter>\r\n   <Provider store={store}>\r\n   <AppContainer/>\r\n   </Provider>\r\n   </HashRouter>\r\n } \r\nexport default  SamuraiJSApp;\r\n","import React  from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from './App';\r\n  ReactDOM.render(\r\n  <SamuraiJSApp/>, document.getElementById('root')\r\n  );\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__ePgFc\",\"error\":\"FormsControls_error__2UPJG\",\"formSummaryError\":\"FormsControls_formSummaryError__3USLV\"};","export const required=value=>{\r\nif(value) return undefined;\r\nreturn 'Field is required';\r\n}\r\nexport const maxLengthCreator=(maxLength)=>(value)=>{\r\n    if(value.length>maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n    }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Paginator_userPhoto__gjvV6\",\"paginator\":\"Paginator_paginator__2HNCZ\",\"pageNumber\":\"Paginator_pageNumber__31sGr\",\"selectedPage\":\"Paginator_selectedPage__1_88-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1tQWE\",\"selectedPage\":\"users_selectedPage__3PaWb\",\"users\":\"users_users__2Yk27\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3XnOG\",\"loginBlock\":\"Header_loginBlock__c_xhl\"};","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI, usersAPI } from '../api/api';\r\n\r\nconst ADD_POST='ADD-POST';\r\nconst SET_USER_PROFILE='SET_USER_PROFILE';\r\nconst SET_STATUS='SET_STATUS';\r\nconst DELETE_POST='DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS='SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState={\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 15},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 20}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\nconst profileReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case ADD_POST: \r\n        let newPost={\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likesCount: 0\r\n    };\r\n   \r\n    return  {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n    }\r\n    case SET_USER_PROFILE:\r\n        return{\r\n...state,\r\nprofile: action.profile\r\n        }\r\n        case SET_STATUS: {\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n      case DELETE_POST: {\r\n          return{\r\n              ...state, posts: state.posts.filter(p=>p.id!==action.postId)\r\n          }\r\n      }\r\n      case SAVE_PHOTO_SUCCESS: {\r\n          return {...state, profile: {...state.profile, photos: action.photos} }\r\n      }  \r\ndefault: \r\nreturn state;\r\n}\r\n}\r\nexport const addPostActionCreator=(newPostText)=>({type: ADD_POST, newPostText});\r\nexport const setUserProfile=(profile)=>({type: SET_USER_PROFILE, profile});\r\nexport const setStatus=(status)=>({type: SET_STATUS, status});\r\nexport const deletePost=(postId)=>({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess=(photos)=>({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const getUserProfile=(userId)=>async(dispatch)=>{\r\n    let response=await usersAPI.getProfile(userId);\r\n           dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus=(userId)=>async(dispatch)=>{\r\n    let response=await profileAPI.getStatus(userId);\r\n           dispatch(setStatus(response.data));\r\n   \r\n};\r\nexport const updateStatus=(status)=>async(dispatch)=>{\r\n try{ let response= await profileAPI.updateStatus(status);\r\n          if(response.data.resultCode===0){\r\n           dispatch(setStatus(status));\r\n          }\r\n        }catch(error){  \r\n        }\r\n};\r\nexport const savePhoto=(file)=>async(dispatch)=>{\r\n    let response= await profileAPI.savePhoto(file);\r\n            if(response.data.resultCode===0){\r\n             dispatch(savePhotoSuccess(response.data.data.photos));\r\n            }\r\n  };\r\n  export const saveProfile=(profile)=>async(dispatch, getState)=>{\r\n      const userId=getState().auth.userId;\r\n    let response= await profileAPI.saveProfile(profile);\r\n            if(response.data.resultCode===0){\r\n             dispatch(getUserProfile(userId));\r\n            }else{\r\n             dispatch(stopSubmit('edit-profile',  {_error: response.data.messages[0]}));\r\n             return Promise.reject(response.data.messages[0]);\r\n            }\r\n  };\r\nexport default profileReducer;\r\n"],"sourceRoot":""}