{"version":3,"sources":["assets/images/user.png","api/api.js","redux/dialogs-reducer.js","Components/News/News.module.css","assets/images/newsImage.png","Components/Music/Music.module.css","assets/images/musicImage.png","Components/Setting/Setting.module.css","assets/images/settings.png","assets/images/load.gif","Components/Navbar/Navbar.module.css","Components/common/FormsControls/FormsControls.js","Components/Navbar/Navbar.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Setting/Setting.jsx","utils/object-helpers.js","redux/users-reducer.js","Components/common/Paginator.jsx","Components/User.jsx","Components/Users.jsx","redux/users-selecrors.js","Components/UsersContainer.jsx","redux/auth-reducer.js","Components/Header/Header.jsx","Components/Header/HeaderConteiner.jsx","Components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","Components/common/Preloader/Preloader.js","Components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","Components/common/Paginator.module.css","Components/users.module.css","Components/Header/Header.module.css","redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Navbar","c","nav","item","to","activeClassName","active","News","s","newsImage","src","alt","Music","musicImage","Setting","settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","p","selectedPage","pageNumber","key","e","User","user","photos","small","userPhoto","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","isAuth","Preloader","React","Component","compose","connect","auth","bind","page","totalCount","SET_USER_DAtA","uderId","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","length","stopSubmit","_error","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","app","formReduser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","preloader","width","height","value","maxLengthCreator","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.20313685.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.f4f3dd7a.png\";","import * as axios from 'axios';\r\nconst instance=axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'e8e604f3-216c-4026-8739-6d2629efafea'\r\n    }\r\n})\r\nexport const usersAPI={\r\n    getUsers(currentPage=1, pageSize=10){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response=>{\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId){\r\n    return instance.post(`follow/${userId}`, {}, {   \r\n        })\r\n    },\r\n    unfollow(userId){\r\n    return instance.delete(`follow/${userId}`, {  \r\n        })\r\n    },\r\n    getProfile(userId){\r\n    return profileAPI.getProfile(userId);\r\n    }\r\n}\r\nexport const profileAPI={\r\n    getProfile(userId){\r\n      return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile){\r\nconst formData=new FormData();\r\nformData.append('image', photoFile);\r\nreturn instance.put(`profile/photo`, formData, {\r\n    headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n    }\r\n})\r\n    },\r\nsaveProfile(profile){\r\nreturn instance.put(`profile`, profile) \r\n}\r\n}\r\nexport const authAPI={\r\n    me(){\r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe=false, captcha=null){\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\nexport const securityAPI={\r\n    getCaptchaUrl(){\r\n       return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","const SEND_MESSAGE='SEND-MESSAGE';\r\nlet initialState={\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Hello'}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Maxim'},\r\n        {id: 2, name: 'Sveta'},\r\n        {id: 3, name: 'Sasha'},\r\n        {id: 4, name: 'Victor'}\r\n    ]\r\n}\r\nconst dialogsReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        \r\n        case SEND_MESSAGE: \r\n        let body=action.newMessageBody;\r\n        return{\r\n            ...state,\r\n            messages: [...state.messages, {id: 6, message: body}]\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const sendMessageCreator=(newMessageBody)=>({type: SEND_MESSAGE, newMessageBody});\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsImage\":\"News_newsImage__1Dtuu\"};","module.exports = __webpack_public_path__ + \"static/media/newsImage.9b45d1e7.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicImage\":\"Music_musicImage__28laF\"};","module.exports = __webpack_public_path__ + \"static/media/musicImage.11174361.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Setting_settings__33gCg\"};","module.exports = __webpack_public_path__ + \"static/media/settings.3b2396f8.png\";","module.exports = __webpack_public_path__ + \"static/media/load.14707564.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1epfM\",\"item\":\"Navbar_item__3z0fN\",\"active\":\"Navbar_active__1e8cK\"};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControls.module.css';\r\nconst FormControl=({input, meta: {touched, error}, children})=>{\r\n    const hasError=touched&&error;\r\n   \r\n    return(\r\n        <div className={styles.formControl+' '+(hasError?styles.error: ' ')}>\r\n            <div>\r\n            {children}\r\n            </div>\r\n    {hasError&&<span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n     <FormControl {...props} ><textarea {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\n\r\nexport const Input=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n        <FormControl {...props} ><input {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\nexport const createField=(placeholder, name, validators, component, props={}, text='')=>(\r\n   <div>\r\n       <Field placeholder={placeholder} name={name} \r\n        validate={validators}\r\n        component={component}\r\n        {...props}/>\r\n        {text}\r\n        </div>\r\n)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from './Navbar.module.css';\r\nconst Navbar =()=>{\r\n return (\r\n <nav className={c.nav}>\r\n      <div className={c.item}><NavLink to='/profile' activeClassName={c.active}>Profile</NavLink></div>\r\n      <div className={c.item}><NavLink to='/dialogs' activeClassName={c.active}>Messages</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/news' activeClassName={c.active}>News</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/music' activeClassName={c.active}>Music</NavLink></div>  \r\n      <div className={c.item}><NavLink to='/setting' activeClassName={c.active}>Settings</NavLink></div> \r\n      <div className={c.item}><NavLink to='/users' activeClassName={c.active}>Users</NavLink></div>  \r\n </nav>\r\n )\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.css';\r\nimport newsImage from './../../assets/images/newsImage.png';\r\nconst News=(props)=>{\r\nreturn <img className={s.newsImage} src={newsImage} alt='newsImage'/>\r\n}\r\nexport default News;\r\n\r\n  ","import React from 'react';\r\nimport s from './Music.module.css';\r\nimport musicImage from './../../assets/images/musicImage.png';\r\nconst Music=(props)=>{\r\nreturn <img className={s.musicImage} src={musicImage} alt='musicImage'/>\r\n}\r\nexport default Music;\r\n\r\n  ","import React from 'react';\r\nimport s from './Setting.module.css';\r\nimport settings from './../../assets/images/settings.png';\r\nconst Setting=(props)=>{\r\nreturn(<img className={s.settings}src={settings} alt='settings'/>\r\n)\r\n}\r\nexport default Setting;\r\n\r\n  ","export const updateObjectInArray=(items, itemId, objPropName, newObjProps)=>{\r\n  return  items.map(u=>{\r\n        if(u[objPropName]===itemId){\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n})\r\n}","import {usersAPI} from '../api/api';\r\nimport {updateObjectInArray} from './../utils/object-helpers';\r\nconst FOLLOW='FOLLOW';\r\nconst UNFOLLOW='UNFOLLOW';\r\nconst SET_USERS='SET_USERS';\r\nconst SET_CURRENT_PAGE='SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT='SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING='TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS='TOGGLE_IS_FOLLOWING_PROGRESS';\r\nlet initialState={\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 2,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n  fake: 10\r\n}\r\nconst usersReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case FOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n        }\r\n        case UNFOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {...state, \r\n                followingInProgress: action.isFetching\r\n                ?[...state.followingInProgress, action.userId]\r\n            :state.followingInProgress.filter(id=>id!=action.userId)}\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const followSuccess=(userId)=>({type: FOLLOW, userId});\r\nexport const unfollowSuccess=(userId)=>({type: UNFOLLOW, userId});\r\nexport const setUsers=(users)=>({type: SET_USERS, users});\r\nexport const setCurrentPage=(currentPage)=>({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount=(totalUsersCount)=>({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching=(isFetching)=>({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress=(isFetching, userId)=>({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, \r\n    isFetching, \r\n    userId});\r\nexport const requestUsers=(page, pageSize)=>{\r\n    return async (dispatch)=>{\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data=await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n}\r\nexport const followUnfollowFlow=async(dispatch, userId, apiMethod, actionCreator)=>{\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response=await apiMethod(userId);\r\n    if(response.data.resultCode==0){\r\n    dispatch(actionCreator(userId));\r\n     }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\nexport const follow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n    }\r\nexport const unfollow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\nlet Paginator=({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize=10})=>{\r\n        let pagesCount=Math.ceil(totalItemsCount/pageSize);\r\n        let pages=[];\r\n        for(let i=1; i<=pagesCount; i++){\r\npages.push(i);\r\n        }\r\n        let portionCount=Math.ceil(pagesCount/portionSize);\r\n        let [portionNumber, setPortionNumber]=useState(1);\r\n        let leftPortionPageNumber=(portionNumber-1)*portionSize+1;\r\n        let rightPortionPageNumber=portionNumber*portionSize;\r\n    return <div className={cn(styles.paginator)}>\r\n        {portionNumber>1&&\r\n        <button onClick={()=>{setPortionNumber(portionNumber-1)}}>PREV</button>}\r\n    {pages.filter(p=>p>=leftPortionPageNumber&&p<=rightPortionPageNumber)\r\n    .map((p)=>{\r\n        return <span className={cn({\r\n            [styles.selectedPage]: currentPage===p\r\n        }, styles.pageNumber)}\r\n        key={p}\r\n        onClick={(e)=>{\r\n            onPageChanged(p);\r\n        }}>{p}</span>\r\n    })}\r\n    {portionCount>portionNumber&&\r\n    <button onClick={()=>{setPortionNumber(portionNumber+1)}}>NEXT</button>}\r\n</div>\r\n}\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../assets/images/user.png';\r\nlet User=({user, followingInProgress, unfollow, follow})=>(\r\n    <div className={styles.users}>\r\n    <span>\r\n        <div>\r\n            <NavLink to={'./profile/' + user.id}>\r\n            <img alt='userPhoto' src={user.photos.small!==null? user.photos.small:userPhoto} className={styles.userPhoto}/>\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            {user.followed\r\n            ?<button disabled={followingInProgress.some(id=>id===user.id)} \r\n            onClick={()=>{\r\n            unfollow(user.id);\r\n             }}>Unfollow</button>\r\n            :<button disabled={\r\n                followingInProgress.some(id=>id===user.id)} \r\n                onClick={()=>{\r\n                follow(user.id);\r\n            }}>Follow</button>}\r\n        </div>\r\n    </span>\r\n    <span>\r\n        <span>\r\n         <div>{user.name}</div>\r\n         <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n         <div>{'user.location.country'}</div>\r\n         <div>{'user.location.city'}</div>\r\n        </span>\r\n    </span>\r\n    </div>\r\n)\r\nexport default User;","import React from 'react';\r\nimport Paginator from './common/Paginator';\r\nimport User from './User.jsx';\r\nlet Users=({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props})=>{\r\n   return  <div>\r\n   <Paginator currentPage={currentPage} onPageChanged={onPageChanged} \r\n    totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n    <div>\r\n    {\r\n     users.map(u=><User user={u}\r\n        followingInProgress={props.followingInProgress}\r\n        key={u.id}\r\n        unfollow={props.unfollow}\r\n        follow={props.follow}\r\n        />\r\n        )\r\n    }\r\n </div>\r\n </div>\r\n}\r\nexport default Users;","import { createSelector } from 'reselect';\r\nconst getUsersSelector=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers=createSelector(getUsersSelector,  (users)=>{\r\n    return users.filter(u=>true);\r\n})\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount=(state)=>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, setCurrentPage,  unfollow, toggleFollowingProgress, requestUsers} from '../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from './common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport {getUsers, getPageSize,  getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from './../redux/users-selecrors';\r\nimport { Redirect } from 'react-router-dom';\r\nclass UsersContainer extends React.Component{\r\n  componentDidMount(){ \r\n      const{currentPage, pageSize}=this.props;\r\n      this.props.getUsers(currentPage, pageSize);\r\n    }\r\n      onPageChanged=(pageNumber)=>{\r\n        const {pageSize}=this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n      }\r\n      \r\n        render() { \r\n          if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n        return <> \r\n        {this.props.isFetching?<Preloader/>:null}\r\n        <Users  totalUsersCount={this.props.totalUsersCount} \r\n        pageSize={this.props.pageSize} \r\n        currentPage={this.props.currentPage} \r\n        onPageChanged={this.onPageChanged} \r\n        followingInProgress={this.props.followingInProgress}\r\n        users={this.props.users} \r\n        follow={this.props.follow} \r\n        unfollow={this.props.unfollow}/></>\r\n        }\r\n}\r\nlet mapStateToProps=(state)=>{\r\n  return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state),\r\n      isAuth: state.auth.isAuth\r\n }\r\n}\r\nexport default compose(\r\nconnect(mapStateToProps,\r\n  {\r\nfollow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers\r\n}),\r\n)(UsersContainer);","import { authAPI, securityAPI } from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\nconst SET_USER_DAtA='samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS='GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState={\r\n  uderId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n}\r\nconst authReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n    case SET_USER_DAtA: \r\n    case GET_CAPTCHA_URL_SUCCESS: \r\n    return{\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const setAuthUserData=(userId, email, login, isAuth)=>({\r\n  type: SET_USER_DAtA, \r\n  payload: {userId, email, login, isAuth}});\r\n  export const getCaptchaUrlSuccess=(captchaUrl)=>({\r\n  type: GET_CAPTCHA_URL_SUCCESS, \r\n  payload: {captchaUrl}});\r\nexport const getAuthUserData=()=>async(dispatch)=>{\r\n let response= await authAPI.me();\r\n      if(response.data.resultCode===0){\r\n        let {id, login, email}=response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n      }\r\n  }\r\nexport const login=(email, password, rememberMe, captcha)=>async(dispatch)=>{\r\n  let response=await authAPI.login(email, password, rememberMe, captcha);\r\n    if(response.data.resultCode===0){\r\n      dispatch(getAuthUserData())\r\n    }else if(response.data.resultCode===10){\r\n      dispatch(getCaptchaUrl());\r\n      let message=  response.data.messages.length>0?response.data.messages[0]:'Some error'\r\n      dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n  }\r\n  export const getCaptchaUrl=()=>async(dispatch)=>{\r\n    const response=await securityAPI.getCaptchaUrl();\r\n    const captchaUrl=response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n    }   \r\nexport const logout=()=>async(dispatch)=>{\r\n  let response=await authAPI.logout();\r\n  if(response.data.resultCode===0){\r\n  dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nconst Header =(props)=>{\r\nreturn <header className={s.header}>\r\n   <img src='https://cdn.pixabay.com/photo/2016/03/31/19/23/cat-1294968_960_720.png' alt='logo'/>\r\n   <div className={s.loginBlock}>\r\n    {props.isAuth? \r\n    <div>{props.login} - <button onClick={props.logout}>Log out</button></div>:<NavLink to={'/login'}>Login</NavLink>}\r\n  </div>\r\n  </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\nclass HeaderContainer extends React.Component{\r\n  render(){\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\nconst mapStateToProps=(state)=>({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from './../common/FormsControls/FormsControls.module.css';\r\nconst Login=(props)=>{\r\n    const onSubmit=(formData)=>{\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div> \r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n}\r\nconst LoginForm=({handleSubmit, error, captchaUrl})=>{\r\n    return <form onSubmit={handleSubmit}>\r\n    {createField('Email', 'email', [required], Input)}\r\n    {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n    {createField(null, 'input', [], Input, {type: 'checkbox'})}\r\n    {captchaUrl&&<img alt='captcha' src={captchaUrl}/>}\r\n    {captchaUrl&&createField('Symbols from image', 'captcha', [required], Input)}\r\n   {error&&<div className={style.formSummaryError}>\r\n{error}\r\n    </div>}\r\n    <div>\r\n    <button>Login</button>\r\n    </div>\r\n</form>\r\n}\r\nconst LoginReduxForm=reduxForm({form: 'login'})(LoginForm);\r\nconst mapStateToProps=(state)=>({\r\ncaptchaUrl: state.auth.captchaUrl,\r\nisAuth: state.auth.isAuth\r\n})\r\nexport default connect (mapStateToProps, {login})(Login);","import { getAuthUserData } from './auth-reducer';\r\nconst INITIALIZED_SUCCESS='INITIALIZED_SUCCESS';\r\nlet initialState={\r\n  initialized: false,\r\n  globalError: null\r\n}\r\nconst appReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS: \r\n    return{\r\n        ...state,\r\n      initialized: true\r\n    }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const initializedSuccess=()=>({type: INITIALIZED_SUCCESS});\r\nexport const initializeApp=()=>(dispatch)=>{\r\nlet promise=dispatch(getAuthUserData());\r\nPromise.all([promise])\r\n.then(()=>{\r\n  dispatch(initializedSuccess());  \r\n});\r\n}\r\nexport default appReducer;","let initialState={}\r\nconst sidebarReducer=(state=initialState, action)=>{\r\nreturn state;\r\n}\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReduser} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers=combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReduser\r\n})\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../Components/common/Preloader/Preloader';\r\nexport const withSuspense=(Component)=>{\r\n    return (props)=>{\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\nimport './App.css';\nimport Navbar from './Components/Navbar/Navbar';\nimport {HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Setting from './Components/Setting/Setting';\nimport UsersContainer from './Components/UsersContainer';\nimport HeaderContainer from './Components/Header/HeaderConteiner';\nimport LoginPage from './Components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {initializeApp} from './redux/app-reducer';\nimport Preloader from './Components/common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport store from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\nconst DialogsContainer=React.lazy(()=>import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer=React.lazy(()=>import('./Components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n  componentDidMount(){\n    this.props.initializeApp();\n   }\n  render(){\n    if(!this.props.initialized){\n    return <Preloader/>\n    }\n    else{\n  return (\n    <div className='app-wrapper'>\n     <HeaderContainer/>\n     <Navbar/>\n    <div className='app-wrapper-content'> \n    <Switch>\n    <Route exact path='/' render={()=><Redirect to={'/profile'}/>}/>\n    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n    <Route path='/news' render={()=><News/>}/>\n    <Route path='/music' render={()=><Music/>}/>\n    <Route path='/setting' render={()=><Setting/>}/>\n    <Route path='/users' render={()=><UsersContainer/>}/>\n    <Route path='/login' render={()=><LoginPage/>}/>\n    <Route path='*' render={()=><div>404 NOT FOUND</div>}/>\n    </Switch>\n    </div>\n    </div>\n  );\n}\n  }\n}\nconst mapStateToProps=(state)=>({\n  initialized: state.app.initialized\n})\nlet AppContainer=compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App)\n const SamuraiJSApp=(props)=>{\n   return  <HashRouter>\n   <Provider store={store}>\n   <AppContainer/>\n   </Provider>\n   </HashRouter>\n } \nexport default  SamuraiJSApp;\n","import React  from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from './App';\n  ReactDOM.render(\n  <SamuraiJSApp/>, document.getElementById('root')\n  );\n","import React from 'react';\r\nimport preloader from '../../../assets/images/load.gif';\r\nlet Preloader=(props)=>{\r\n    return <div>\r\n<img alt='preloader' src={preloader} style={{width: '100px', height: '100px'}}/>\r\n    </div>\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3ivS8\",\"error\":\"FormsControls_error__2BuEz\",\"formSummaryError\":\"FormsControls_formSummaryError__erolX\"};","export const required=value=>{\r\nif(value) return undefined;\r\nreturn 'Field is required';\r\n}\r\nexport const maxLengthCreator=(maxLength)=>(value)=>{\r\n    if(value.length>maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n    }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Paginator_userPhoto__22-2_\",\"paginator\":\"Paginator_paginator__1i6yk\",\"pageNumber\":\"Paginator_pageNumber__1LrMn\",\"selectedPage\":\"Paginator_selectedPage__1aZj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__pHRtq\",\"selectedPage\":\"users_selectedPage__27kpS\",\"users\":\"users_users__1u5r7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__18dLW\",\"loginBlock\":\"Header_loginBlock__2GLbA\"};","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI, usersAPI } from '../api/api';\r\n\r\nconst ADD_POST='ADD-POST';\r\nconst SET_USER_PROFILE='SET_USER_PROFILE';\r\nconst SET_STATUS='SET_STATUS';\r\nconst DELETE_POST='DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS='SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState={\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 15},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 20}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\nconst profileReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case ADD_POST: \r\n        let newPost={\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likesCount: 0\r\n    };\r\n   \r\n    return  {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n    }\r\n    case SET_USER_PROFILE:\r\n        return{\r\n...state,\r\nprofile: action.profile\r\n        }\r\n        case SET_STATUS: {\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n      case DELETE_POST: {\r\n          return{\r\n              ...state, posts: state.posts.filter(p=>p.id!==action.postId)\r\n          }\r\n      }\r\n      case SAVE_PHOTO_SUCCESS: {\r\n          return {...state, profile: {...state.profile, photos: action.photos} }\r\n      }  \r\ndefault: \r\nreturn state;\r\n}\r\n}\r\nexport const addPostActionCreator=(newPostText)=>({type: ADD_POST, newPostText});\r\nexport const setUserProfile=(profile)=>({type: SET_USER_PROFILE, profile});\r\nexport const setStatus=(status)=>({type: SET_STATUS, status});\r\nexport const deletePost=(postId)=>({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess=(photos)=>({type: SAVE_PHOTO_SUCCESS, photos})\r\nexport const getUserProfile=(userId)=>async(dispatch)=>{\r\n    let response=await usersAPI.getProfile(userId);\r\n           dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus=(userId)=>async(dispatch)=>{\r\n    let response=await profileAPI.getStatus(userId);\r\n           dispatch(setStatus(response.data));\r\n   \r\n};\r\nexport const updateStatus=(status)=>async(dispatch)=>{\r\n try{ let response= await profileAPI.updateStatus(status);\r\n          if(response.data.resultCode===0){\r\n           dispatch(setStatus(status));\r\n          }\r\n        }catch(error){  \r\n        }\r\n};\r\nexport const savePhoto=(file)=>async(dispatch)=>{\r\n    let response= await profileAPI.savePhoto(file);\r\n            if(response.data.resultCode===0){\r\n             dispatch(savePhotoSuccess(response.data.data.photos));\r\n            }\r\n  };\r\n  export const saveProfile=(profile)=>async(dispatch, getState)=>{\r\n      const userId=getState().auth.userId;\r\n    let response= await profileAPI.saveProfile(profile);\r\n            if(response.data.resultCode===0){\r\n             dispatch(getUserProfile(userId));\r\n            }else{\r\n             dispatch(stopSubmit('edit-profile',  {_error: response.data.messages[0]}));\r\n             return Promise.reject(response.data.messages[0]);\r\n            }\r\n  };\r\nexport default profileReducer;\r\n"],"sourceRoot":""}