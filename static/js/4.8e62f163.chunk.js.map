{"version":3,"sources":["Components/Dialogs/Dialogs.module.css","hoc/withAuthRedirect.js","Components/Dialogs/AddMessageForm.jsx","Components/Dialogs/DialogItem/DialogIem.jsx","Components/Dialogs/Message/Message.jsx","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","maxLength50","maxLengthCreator","reduxForm","form","props","onSubmit","handleSubmit","Field","component","Textarea","validate","required","name","placeholder","DialogItem","path","id","className","s","dialog","active","to","Message","message","Dialogs","dialogsPage","dialogsElements","dialogs","map","d","key","messageElements","messages","m","dialogsItems","values","sendMessage","newMessageBody","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,kHCE9KC,EAA2B,SAACC,GAAD,MAAU,CACrCC,OAAQD,EAAME,KAAKD,S,0CCAjBE,EAAYC,YAAiB,IAWpBC,cAAU,CACzBC,KAAM,2BADSD,EAVM,SAACE,GAClB,OACA,0BAAMC,SAAUD,EAAME,cAClB,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAClBC,SAAU,CAACC,IAAUX,GACrBY,KAAK,iBAAiBC,YAAY,uBACvC,6BAAK,6C,0BCHOC,EALE,SAACV,GACd,IAAIW,EAAK,YAAYX,EAAMY,GAC3B,OAAO,yBAAKC,UAAWC,IAAEC,OAAQ,IAAID,IAAEE,QAAQ,kBAAC,IAAD,CAASC,GAAIN,GAAOX,EAAMQ,QCA9DU,EAHD,SAAClB,GACf,OAAO,yBAAKa,UAAWC,IAAEK,SAAUnB,EAAMmB,UCuB1BC,EApBD,SAACpB,GACX,IAAIP,EAAMO,EAAMqB,YACZC,EAAgB7B,EAAM8B,QAAQC,KAAI,SAACC,GAAK,OAAO,kBAAC,EAAD,CAAYjB,KAAMiB,EAAEjB,KAAMI,GAAIa,EAAEb,GAAIc,IAAKD,EAAEb,QAC1Fe,EAAgBlC,EAAMmC,SAASJ,KAAI,SAACK,GAAK,OAAO,kBAAC,EAAD,CAASV,QAASU,EAAEV,QAASO,IAAKG,EAAEjB,QAIxF,OAAKZ,EAAMN,OAEf,yBAAKmB,UAAWC,IAAES,SAClB,yBAAKV,UAAWC,IAAEgB,cACjBR,GAED,yBAAKT,UAAWC,IAAEc,UAClB,6BAAMD,EAAN,KACA,kBAAC,EAAD,CAAgB1B,SAXM,SAAC8B,GACf/B,EAAMgC,YAAYD,EAAOE,qBAEH,kBAAC,IAAD,CAAUhB,GAAI,YCI7BiB,sBACXC,aAbkB,SAAC1C,GACnB,MAAM,CACF4B,YAAa5B,EAAM4B,gBAGF,SAACe,GACtB,MAAM,CACFJ,YAAa,SAACC,GACdG,EAASC,YAAmBJ,ULPN,SAACK,GAAa,IACtCC,EADqC,uKAGnC,OAAIC,KAAKxC,MAAMN,OACR,kBAAC4C,EAAcE,KAAKxC,OADG,kBAAC,IAAD,CAAUiB,GAAG,gBAHR,GACXwB,IAAMH,WAOtC,OADoCH,YAAQ3C,EAAR2C,CAAoCI,KKIzDL,CAGbd","file":"static/js/4.8e62f163.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1kG-q\",\"dialogsItems\":\"Dialogs_dialogsItems___RLyk\",\"dialog\":\"Dialogs_dialog__3GpCM\",\"messages\":\"Dialogs_messages__33Tpy\",\"message\":\"Dialogs_message__3fY-e\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nlet mapStateToPropsForRedirect=(state)=>({\r\n    isAuth: state.auth.isAuth\r\n   })\r\nexport const withAuthRedirect=(Component)=>{\r\nclass RedirectComponent extends React.Component{\r\n    render(){\r\n        if(!this.props.isAuth) return <Redirect to='./login'/>\r\n        return <Component {...this.props}/>\r\n    }\r\n}\r\nlet  ConnectedAuthRedirectComponent=connect(mapStateToPropsForRedirect)(RedirectComponent);\r\nreturn ConnectedAuthRedirectComponent;\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nconst maxLength50=maxLengthCreator(50);\r\nconst AddMessageForm=(props)=>{\r\n    return(\r\n    <form onSubmit={props.handleSubmit}>\r\n        <Field component={Textarea} \r\n        validate={[required, maxLength50 ]}\r\n        name='newMessageBody' placeholder='Enter your message'/>\r\n   <div><button>Send</button></div>\r\n</form>\r\n    )\r\n}\r\nexport default reduxForm({\r\nform: 'dialog=add-message-form'\r\n})(AddMessageForm);","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nconst DialogItem=(props)=>{\r\n    let path='/dialogs/'+props.id;\r\n    return <div className={s.dialog +' '+s.active}><NavLink to={path}>{props.name}</NavLink></div>\r\n}\r\n\r\nexport default DialogItem;\r\n\r\n  ","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nconst Message=(props)=>{\r\nreturn <div className={s.message}>{props.message}</div>\r\n}\r\nexport default Message;\r\n\r\n\r\n  ","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport AddMessageForm from './AddMessageForm';\r\nimport DialogItem from './DialogItem/DialogIem';\r\nimport s from './Dialogs.module.css';\r\nimport Message from './Message/Message';\r\nconst Dialogs=(props)=>{   \r\n    let state=props.dialogsPage;\r\n    let dialogsElements=state.dialogs.map((d)=>{return(<DialogItem name={d.name} id={d.id} key={d.id}/>)})\r\n    let messageElements=state.messages.map((m)=>{return(<Message message={m.message} key={m.id}/>)})     \r\n    let addNewMessage=(values)=>{\r\n        props.sendMessage(values.newMessageBody)\r\n            }\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\nreturn(\r\n<div className={s.dialogs} >\r\n<div className={s.dialogsItems}>\r\n{dialogsElements}\r\n</div>\r\n<div className={s.messages}>\r\n<div>{messageElements} </div>\r\n<AddMessageForm onSubmit={addNewMessage}/>\r\n</div>\r\n</div>\r\n)\r\n}\r\nexport default Dialogs;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { sendMessageCreator} from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        sendMessage: (newMessageBody)=>{\r\n        dispatch(sendMessageCreator(newMessageBody))\r\n        }\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}