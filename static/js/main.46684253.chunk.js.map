{"version":3,"sources":["assets/images/user.png","api/api.js","redux/dialogs-reducer.js","Components/users.module.css","assets/images/load.gif","hoc/withAuthRedirect.js","Components/Navbar/Navbar.module.css","Components/common/FormsControls/FormsControls.js","Components/Navbar/Navbar.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Setting/Setting.jsx","utils/object-helpers.js","redux/users-reducer.js","Components/common/Paginator.jsx","Components/User.jsx","Components/Users.jsx","redux/users-selecrors.js","Components/UsersContainer.jsx","redux/auth-reducer.js","Components/Header/Header.jsx","Components/Header/HeaderConteiner.jsx","Components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","Components/common/Preloader/Preloader.js","Components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","Components/common/Paginator.module.css","Components/Header/Header.module.css","redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","restProps","child","Input","createField","placeholder","validators","component","text","validate","Navbar","c","nav","item","activeClassName","active","News","Music","Setting","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","p","selectedPage","pageNumber","key","e","User","user","src","photos","small","userPhoto","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","SET_USER_DAtA","uderId","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","Header","s","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","length","stopSubmit","_error","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReduser","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","preloader","width","height","value","maxLengthCreator","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.46684253.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.f4f3dd7a.png\";","import * as axios from \"axios\";\r\nconst instance=axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"e8e604f3-216c-4026-8739-6d2629efafea\"\r\n    }\r\n})\r\nexport const usersAPI={\r\n    getUsers(currentPage=1, pageSize=10){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response=>{\r\n            return response.data;\r\n        })\r\n    },\r\n    follow(userId){\r\n       return instance.post(`follow/${userId}`, {}, {\r\n            \r\n        })\r\n    },\r\n    unfollow(userId){\r\n       return instance.delete(`follow/${userId}`, {\r\n           \r\n        })\r\n    },\r\n    getProfile(userId){\r\n        console.warn(\"Obsolete method. Please profileAPI object\");\r\n      return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\nexport const profileAPI={\r\n    getProfile(userId){\r\n      return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile){\r\nconst formData=new FormData();\r\nformData.append(\"image\", photoFile);\r\n\r\nreturn instance.put(`profile/photo`, formData, {\r\n    headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n    }\r\n})\r\n    },\r\nsaveProfile(profile){\r\n    return instance.put(`profile`, profile) \r\n}\r\n\r\n\r\n}\r\nexport const authAPI={\r\n    me(){\r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe=false, captcha=null){\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n     },\r\n     logout(){\r\n        return instance.delete(`auth/login`);\r\n     }\r\n}\r\nexport const securityAPI={\r\n    getCaptchaUrl(){\r\n       return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","const SEND_MESSAGE=\"SEND-MESSAGE\";\r\nlet initialState={\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How is your it-kamasutra?\"},\r\n        {id: 3, message: \"Yo\"}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: \"Dimych\"},\r\n        {id: 2, name: \"Sveta\"},\r\n        {id: 3, name: \"Sasha\"},\r\n        {id: 4, name: \"Victor\"}\r\n    ]\r\n}\r\nconst dialogsReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        \r\n        case SEND_MESSAGE: \r\n        let body=action.newMessageBody;\r\n        return{\r\n            ...state,\r\n            messages: [...state.messages, {id: 6, message: body}]\r\n\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const sendMessageCreator=(newMessageBody)=>({type: SEND_MESSAGE, newMessageBody});\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__pHRtq\",\"selectedPage\":\"users_selectedPage__27kpS\"};","module.exports = __webpack_public_path__ + \"static/media/load.14707564.gif\";","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nlet mapStateToPropsForRedirect=(state)=>({\r\n    isAuth: state.auth.isAuth\r\n   })\r\nexport const withAuthRedirect=(Component)=>{\r\nclass RedirectComponent extends React.Component{\r\n    render(){\r\n        if(!this.props.isAuth) return <Redirect to=\"./login\"/>\r\n        return <Component {...this.props}/>\r\n    }\r\n}\r\n\r\n let  ConnectedAuthRedirectComponent=connect (mapStateToPropsForRedirect)(RedirectComponent);\r\nreturn ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1epfM\",\"item\":\"Navbar_item__3z0fN\",\"active\":\"Navbar_active__1e8cK\"};","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport styles from \"./FormsControls.module.css\";\r\nconst FormControl=({input, meta: {touched, error}, children})=>{\r\n    const hasError=touched&&error;\r\n   \r\n    return(\r\n        <div className={styles.formControl+\" \"+(hasError?styles.error: \" \")}>\r\n            <div>\r\n            {children}\r\n            </div>\r\n    {hasError&&<span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n     <FormControl {...props} ><textarea {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\n\r\nexport const Input=(props)=>{\r\n    const {input, meta, child, ...restProps}=props;\r\n    return(\r\n        <FormControl {...props} ><input {...input} {...restProps}/></FormControl> \r\n    )\r\n}\r\nexport const createField=(placeholder, name, validators, component, props={}, text=\"\")=>(\r\n   <div>\r\n       <Field placeholder={placeholder} name={name} \r\n        validate={validators}\r\n        component={component}\r\n        {...props}/>\r\n        {text}\r\n        </div>\r\n)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from \"./Navbar.module.css\";\r\nconst Navbar =()=>{\r\n return (\r\n <nav className={c.nav}>\r\n        <div className={c.item}><NavLink to=\"/profile\" activeClassName={c.active}>Profile</NavLink></div>\r\n      <div className={c.item}><NavLink to=\"/dialogs\" activeClassName={c.active}>Messages</NavLink></div>  \r\n      <div className={c.item}><NavLink to=\"/news\" activeClassName={c.active}>News</NavLink></div>  \r\n      <div className={c.item}><NavLink to=\"/music\" activeClassName={c.active}>Music</NavLink></div>  \r\n      <div className={c.item}><NavLink to=\"/setting\" activeClassName={c.active}>Settings</NavLink></div> \r\n      <div className={c.item}><NavLink to=\"/users\" activeClassName={c.active}>Users</NavLink></div>  \r\n      </nav>\r\n )\r\n}\r\nexport default Navbar;","import React from \"react\";\r\nimport s from \"./News.module.css\";\r\nconst News=(props)=>{\r\nreturn(\r\n    <div>News</div>\r\n)\r\n\r\n}\r\nexport default News;\r\n\r\n  ","import React from \"react\";\r\nimport s from \"./Music.module.css\";\r\nconst Music=(props)=>{\r\nreturn(\r\n    <div >Music</div>\r\n)\r\n\r\n}\r\nexport default Music;\r\n\r\n  ","import React from \"react\";\r\nimport s from \"./Setting.module.css\";\r\nconst Setting=(props)=>{\r\nreturn(\r\n    <div>Setting</div>\r\n)\r\n\r\n}\r\nexport default Setting;\r\n\r\n  ","export const updateObjectInArray=(items, itemId, objPropName, newObjProps)=>{\r\n  return  items.map(u=>{\r\n        if(u[objPropName]===itemId){\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n})\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectIArray, updateObjectInArray} from \"./../utils/object-helpers\";\r\nconst FOLLOW=\"FOLLOW\";\r\nconst UNFOLLOW=\"UNFOLLOW\";\r\nconst SET_USERS=\"SET_USERS\";\r\nconst SET_CURRENT_PAGE=\"SER_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT=\"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING=\"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS=\"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\nlet initialState={\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 2,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n  fake: 10\r\n}\r\nconst usersReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case FOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId,\"id\", {followed: true})\r\n        }\r\n        case UNFOLLOW: \r\n        return{\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId,\"id\", {followed: false})\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {...state, \r\n                followingInProgress: action.isFetching\r\n                ?[...state.followingInProgress, action.userId]\r\n            :state.followingInProgress.filter(id=>id!=action.userId)}\r\n        }\r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const followSuccess=(userId)=>({type: FOLLOW, userId});\r\nexport const unfollowSuccess=(userId)=>({type: UNFOLLOW, userId});\r\nexport const setUsers=(users)=>({type: SET_USERS, users});\r\nexport const setCurrentPage=(currentPage)=>({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount=(totalUsersCount)=>({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching=(isFetching)=>({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress=(isFetching, userId)=>({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, \r\n    isFetching, \r\n    userId});\r\nexport const requestUsers=(page, pageSize)=>{\r\n    return async (dispatch)=>{\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data=await usersAPI.getUsers(page, pageSize);\r\n         dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n}\r\nexport const followUnfollowFlow=async(dispatch, userId, apiMethod, actionCreator)=>{\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response=await apiMethod(userId);\r\n    if(response.data.resultCode==0){\r\n        dispatch(actionCreator(userId));\r\n     }\r\n     dispatch(toggleFollowingProgress(false, userId));\r\n}\r\nexport const follow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n    }\r\nexport const unfollow=(userId)=>{\r\n    return async (dispatch)=>{\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\nexport default usersReducer;","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator=({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize=10})=>{\r\n    let pagesCount=Math.ceil(totalItemsCount/pageSize);\r\n        let pages=[];\r\n        for(let i=1; i<=pagesCount; i++){\r\npages.push(i);\r\n        }\r\n        let portionCount=Math.ceil(pagesCount/portionSize);\r\n        let [portionNumber, setPortionNumber]=useState(1);\r\n        let leftPortionPageNumber=(portionNumber-1)*portionSize+1;\r\n        let rightPortionPageNumber=portionNumber*portionSize;\r\n    return <div className={cn(styles.paginator)}>\r\n        {portionNumber>1&&\r\n        <button onClick={()=>{setPortionNumber(portionNumber-1)}}>PREV</button>}\r\n    {pages.filter(p=>p>=leftPortionPageNumber&&p<=rightPortionPageNumber)\r\n    .map((p)=>{\r\n        return <span className={cn({\r\n            [styles.selectedPage]: currentPage===p\r\n        }, styles.pageNumber)}\r\n        key={p}\r\n        onClick={(e)=>{\r\n            onPageChanged(p);\r\n        }}>{p}</span>\r\n    })}\r\n    {portionCount>portionNumber&&\r\n    <button onClick={()=>{setPortionNumber(portionNumber+1)}}>NEXT</button>}\r\n</div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../assets/images/user.png\";\r\nlet User=({user, followingInProgress, unfollow, follow})=>(\r\n    <div>\r\n    <span>\r\n        <div>\r\n            <NavLink to={\"./profile/\" + user.id}>\r\n            <img src={user.photos.small!==null? user.photos.small:userPhoto} className={styles.userPhoto}/>\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            {user.followed\r\n            ?<button disabled={followingInProgress.some(id=>id===user.id)} \r\n            onClick={()=>{\r\n               unfollow(user.id);\r\n             }}>Unfollow</button>\r\n            :<button disabled={\r\n                followingInProgress.some(id=>id===user.id)} \r\n                onClick={()=>{\r\n                 follow(user.id);\r\n            }}>Follow</button>}\r\n        </div>\r\n    </span>\r\n    <span>\r\n        <span>\r\n         <div>{user.name}</div>\r\n         <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n         <div>{\"user.location.country\"}</div>\r\n         <div>{\"user.location.city\"}</div>\r\n        </span>\r\n    </span>\r\n    </div>\r\n)\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"./common/Paginator\";\r\nimport User from \"./User.jsx\";\r\nlet Users=({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props})=>{\r\nreturn  <div>\r\n   <Paginator currentPage={currentPage} onPageChanged={onPageChanged} \r\n    totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n    <div>\r\n    {\r\n     users.map(u=><User user={u}\r\n        followingInProgress={props.followingInProgress}\r\n        key={u.id}\r\n        unfollow={props.unfollow}\r\n        follow={props.follow}\r\n        />\r\n        )\r\n    }\r\n </div>\r\n </div>\r\n}\r\n\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\nconst getUsersSelector=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers=createSelector(getUsersSelector,  (users)=>{\r\n    return users.filter(u=>true);\r\n})\r\n    \r\n\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount=(state)=>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage,  unfollow, toggleFollowingProgress, requestUsers} from \"../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"./common/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {getUsers, getPageSize,  getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress,  getUsersSuperSelector} from \"./../redux/users-selecrors\"\r\nclass UsersContainer extends React.Component{\r\n    componentDidMount(){\r\n      const{currentPage, pageSize}=this.props;\r\n       this.props.getUsers(currentPage, pageSize);\r\n    }\r\n      onPageChanged=(pageNumber)=>{\r\n        const {pageSize}=this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n      }\r\n        render() { \r\n        return <> \r\n        {this.props.isFetching?<Preloader/>:null}\r\n        <Users totalUsersCount={this.props.totalUsersCount} \r\n        pageSize={this.props.pageSize} \r\n        currentPage={this.props.currentPage} \r\n        onPageChanged={this.onPageChanged} \r\n       followingInProgress={this.props.followingInProgress}\r\n        users={this.props.users} \r\n        follow={this.props.follow} \r\n        unfollow={this.props.unfollow}/></>\r\n        }\r\n}\r\n\r\n\r\nlet mapStateToProps=(state)=>{\r\n  return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n     isFetching: getIsFetching(state),\r\n     followingInProgress: getFollowingInProgress(state)\r\n }\r\n}\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,\r\n  {\r\n follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers\r\n}),\r\n\r\n)(UsersContainer);","import { authAPI, securityAPI } from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nconst SET_USER_DAtA=\"samurai-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SuCCESS=\"GET_CAPTCHA_URL_SuCCESS\";\r\n\r\nlet initialState={\r\n  uderId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n}\r\nconst authReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case SET_USER_DAtA: \r\n    case GET_CAPTCHA_URL_SuCCESS: \r\n    return{\r\n        ...state,\r\n       ...action.payload\r\n    }\r\n       \r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const setAuthUserData=(userId, email, login, isAuth)=>({\r\n  type: SET_USER_DAtA, \r\n  payload: {userId, email, login, isAuth}});\r\n  export const getCaptchaUrlSuccess=(captchaUrl)=>({\r\n    type: GET_CAPTCHA_URL_SuCCESS, \r\n    payload: {captchaUrl}});\r\nexport const getAuthUserData=()=>async(dispatch)=>{\r\n let response= await authAPI.me();\r\n      if(response.data.resultCode===0){\r\n        let {id, login, email}=response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n      }\r\n  }\r\n  \r\nexport const login=(email, password, rememberMe, captcha)=>async(dispatch)=>{\r\n  let response=await authAPI.login(email, password, rememberMe, captcha);\r\n    if(response.data.resultCode===0){\r\n      dispatch(getAuthUserData())\r\n    }else if(response.data.resultCode===10){\r\n      dispatch(getCaptchaUrl());\r\n      let message=  response.data.messages.length>0?response.data.messages[0]:\"Some error\"\r\n      dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n    \r\n  \r\n  }\r\n  export const getCaptchaUrl=()=>async(dispatch)=>{\r\n    const response=await securityAPI.getCaptchaUrl();\r\n    const captchaUrl=response.data.url;\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n     \r\n    }\r\n    \r\nexport const logout=()=>async(dispatch)=>{\r\n  let response=await authAPI.logout();\r\n    if(response.data.resultCode===0){\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from \"./Header.module.css\";\r\nconst Header =(props)=>{\r\n\r\nreturn <header className={s.header}>\r\n    <img src=\"data:image/png;base64,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\"/>\r\n  <div className={s.loginBlock}>\r\n    {props.isAuth? \r\n    <div>{props.login} - <button onClick={props.logout}>Log out</button></div>:<NavLink to={'/login'}>Login</NavLink>}\r\n  </div>\r\n  </header>\r\n\r\n}\r\nexport default Header;","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport *as axios from \"axios\";\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\"\r\nimport Header from './Header';\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n  render(){\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\nconst mapStateToProps=(state)=>({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { Input, createField } from \"../common/FormsControls/FormsControls\";\r\nimport {login} from \"../../redux/auth-reducer\"\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\nconst Login=(props)=>{\r\n    const onSubmit=(formData)=>{\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return <div> \r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n}\r\nconst LoginForm=({handleSubmit, error, captchaUrl})=>{\r\n    return <form onSubmit={handleSubmit}>\r\n    {createField(\"Email\", \"email\", [required], Input)}\r\n    {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n    {createField(null, \"input\", [], Input, {type: \"checkbox\"})}\r\n    {captchaUrl&&<img src={captchaUrl}/>}\r\n    {captchaUrl&&createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n   {error&&<div className={style.formSummaryError}>\r\n{error}\r\n    </div>}\r\n    <div>\r\n    <button>Login</button>\r\n    </div>\r\n</form>\r\n}\r\nconst LoginReduxForm=reduxForm({form: \"login\"})(LoginForm);\r\nconst mapStateToProps=(state)=>({\r\ncaptchaUrl: state.auth.captchaUrl,\r\nisAuth: state.auth.isAuth\r\n})\r\nexport default connect (mapStateToProps, {login})(Login);","import { authAPI } from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\nconst INITIALIZED_SUCCESS=\"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState={\r\n  initialized: false,\r\n  globalError: null\r\n}\r\nconst appReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS: \r\n    return{\r\n        ...state,\r\n      initialized: true\r\n    }\r\n       \r\n        default: \r\n        return state;\r\n    }\r\n}\r\nexport const initializedSuccess=()=>({type: INITIALIZED_SUCCESS});\r\nexport const initializeApp=()=>(dispatch)=>{\r\n  let promise=dispatch(getAuthUserData());\r\n\r\nPromise.all([promise])\r\n.then(()=>{\r\n  dispatch(initializedSuccess());  \r\n});\r\n}\r\n \r\n\r\n  \r\n  \r\nexport default appReducer;","let initialState={}\r\nconst sidebarReducer=(state=initialState, action)=>{\r\nreturn state;\r\n}\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from\"redux\"\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReduser} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers=combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReduser,\r\n    app: appReducer\r\n})\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../Components/common/Preloader/Preloader\";\r\nexport const withSuspense=(Component)=>{\r\n    return (props)=>{\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\nimport './App.css';\n\nimport Navbar from './Components/Navbar/Navbar';\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Setting from './Components/Setting/Setting';\nimport UsersContainer from './Components/UsersContainer';\nimport HeaderContainer from './Components/Header/HeaderConteiner';\nimport LoginPage from './Components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport {initializeApp} from \"./redux/app-reducer\"\nimport Preloader from './Components/common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport store from \"./redux/redux-store\";\nimport { withSuspense } from './hoc/withSuspense';\nconst DialogsContainer=React.lazy(()=>import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer=React.lazy(()=>import('./Components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n  catchAllUnandledErrors=(reason, promise)=>{\nalert(\"some error occured\")\n  }\n  componentDidMount(){\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnandledErrors)\n   }\n   componentWillUnmount(){\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnandledErrors) \n   }\n  render(){\n    if(!this.props.initialized){\n    return <Preloader/>\n    }\n    else{\n  return (\n    <div className='app-wrapper'>\n      <HeaderContainer/>\n     <Navbar/>\n    <div className=\"app-wrapper-content\"> \n    <Switch>\n    <Route exact path=\"/\" render={()=><Redirect to={\"/profile\"}/>}/>\n    <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n    <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n    <Route path=\"/news\" render={()=><News/>}/>\n    <Route path=\"/music\" render={()=><Music/>}/>\n    <Route path=\"/setting\" render={()=><Setting/>}/>\n    <Route path=\"/users\" render={()=><UsersContainer/>}/>\n    <Route path=\"/login\" render={()=><LoginPage/>}/>\n    <Route path=\"*\" render={()=><div>404 NOT FOUND</div>}/>\n    </Switch>\n    </div>\n    </div>\n  );\n}\n  }\n}\nconst mapStateToProps=(state)=>({\n  initialized: state.app.initialized\n})\nlet AppContainer=compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App)\n const SamuraiJSApp=(props)=>{\n   return  <HashRouter>\n   <Provider store={store}>\n    <AppContainer/>\n    </Provider>\n    </HashRouter>\n } \nexport default  SamuraiJSApp;\n","import React, { useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\n  ReactDOM.render(\n   <SamuraiJSApp/>, document.getElementById('root')\n  );\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/load.gif\"\r\nlet Preloader=(props)=>{\r\n    return <div>\r\n<img src={preloader} style={{width: \"100px\", height: \"100px\"}}/>\r\n    </div>\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3ivS8\",\"error\":\"FormsControls_error__2BuEz\",\"formSummaryError\":\"FormsControls_formSummaryError__erolX\"};","export const required=value=>{\r\nif(value) return undefined;\r\nreturn \"Field is required\";\r\n}\r\nexport const maxLengthCreator=(maxLength)=>(value)=>{\r\n    if(value.length>maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n    }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Paginator_userPhoto__22-2_\",\"paginator\":\"Paginator_paginator__1i6yk\",\"pageNumber\":\"Paginator_pageNumber__1LrMn\",\"selectedPage\":\"Paginator_selectedPage__1aZj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__18dLW\",\"loginBlock\":\"Header_loginBlock__2GLbA\"};","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST=\"ADD-POST\";\r\nconst SET_USER_PROFILE=\"SET_USER_PROFILE\";\r\nconst SET_STATUS=\"SET_STATUS\";\r\nconst DELETE_POST=\"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS=\"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState={\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 15},\r\n        {id: 2, message: \"It's my first post\", likesCount: 20}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\nconst profileReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case ADD_POST: \r\n        let newPost={\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likesCount: 0\r\n    };\r\n   \r\n    return  {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\"\r\n    }\r\n\r\n   \r\n    case SET_USER_PROFILE:\r\n        return{\r\n...state,\r\nprofile: action.profile\r\n        }\r\n        case SET_STATUS: {\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n      case DELETE_POST: {\r\n          return{\r\n              ...state, posts: state.posts.filter(p=>p.id!==action.postId)\r\n          }\r\n      }\r\n      case SAVE_PHOTO_SUCCESS: {\r\n          return {...state, profile: {...state.profile, photos: action.photos} }\r\n      }  \r\ndefault: \r\nreturn state;\r\n}\r\n\r\n}\r\n\r\nexport const addPostActionCreator=(newPostText)=>({type: ADD_POST, newPostText});\r\nexport const setUserProfile=(profile)=>({type: SET_USER_PROFILE, profile});\r\nexport const setStatus=(status)=>({type: SET_STATUS, status});\r\nexport const deletePost=(postId)=>({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess=(photos)=>({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile=(userId)=>async(dispatch)=>{\r\n    let response=await usersAPI.getProfile(userId);\r\n           dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus=(userId)=>async(dispatch)=>{\r\n    let response=await profileAPI.getStatus(userId);\r\n           dispatch(setStatus(response.data));\r\n   \r\n};\r\nexport const updateStatus=(status)=>async(dispatch)=>{\r\n try{ let response= await profileAPI.updateStatus(status);\r\n          if(response.data.resultCode===0){\r\n           dispatch(setStatus(status));\r\n          }\r\n        }catch(error){\r\n            \r\n        }\r\n};\r\nexport const savePhoto=(file)=>async(dispatch)=>{\r\n    let response= await profileAPI.savePhoto(file);\r\n            if(response.data.resultCode===0){\r\n             dispatch(savePhotoSuccess(response.data.data.photos));\r\n            }\r\n  };\r\n  export const saveProfile=(profile)=>async(dispatch, getState)=>{\r\n      const userId=getState().auth.userId;\r\n    let response= await profileAPI.saveProfile(profile);\r\n            if(response.data.resultCode===0){\r\n             dispatch(getUserProfile(userId));\r\n            }else{\r\n             dispatch(stopSubmit(\"edit-profile\",  {_error: response.data.messages[0]}));\r\n             return Promise.reject(response.data.messages[0]);\r\n            }\r\n  };\r\nexport default profileReducer;\r\n"],"sourceRoot":""}