{"version":3,"sources":["Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/ProfileInfo.module.css","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/ProfileStatus.jsx","Components/Profile/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","props","className","s","item","src","message","like","maxLength10","maxLengthCreator","MyPosts","React","memo","postElements","posts","map","p","likesCount","createRef","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","input","meta","handleSubmit","Field","component","Textarea","name","validate","required","placeholder","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Component","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","profile","photos","large","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.15cfc238.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__3Y_Il\",\"postsBlock\":\"MyPosts_postsBlock__1LSC3\",\"posts\":\"MyPosts_posts__3-LOa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__pnmxC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__34f9t\"};","import React from 'react';\r\n\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post=(props)=>{\r\n\r\n return ( \r\n<div className={s.item}><img src=\"https://raduga.net.ru/wp-content/uploads/2020/08/litso-krupnym-planom.jpg\"/>\r\n{props.message}\r\n<div><span>like: {props.like}</span></div>\r\n\r\n</div>\r\n )\r\n}\r\nexport default Post;","import React, { PureComponent } from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from './Post/Post';\r\nconst maxLength10=maxLengthCreator(10);\r\nconst MyPosts=React.memo(props=>{\r\n  //shouldComponentUpdate(nextProps, nextState){\r\n    //return nextProps!==this.props||nextState!==this.state;\r\n  //}\r\n    \r\n      let postElements=props.posts.map((p)=> <Post message={p.message} like={p.likesCount}/>);\r\n    \r\nlet onAddPost=(values) =>{\r\n  props.addPost(values.newPostText)\r\n  }; \r\n  let newPostElement=React.createRef();  \r\n    \r\n return (\r\n  <div className={s.postsBlock}>\r\n    <h3>My posts</h3>\r\n      <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n      <div className={s.posts}>\r\n    {postElements}\r\n      </div>\r\n    </div>\r\n )\r\n})\r\nlet AddNewPostForm=({input, meta, ...props})=>{\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n          <Field component={Textarea} name=\"newPostText\" validate={[required, maxLength10]} placeholder=\"Post message\"/>\r\n          </div>\r\n        <div>\r\n          <button>Add post</button></div>\r\n        </form>\r\n  )\r\n}\r\nlet AddNewPostFormRedux=reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport s from \"./MyPosts.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\"\r\nconst mapStateToProps=(state)=>{\r\nreturn{\r\n  posts: state.profilePage.posts,\r\n  newPostText: state.profilePage.newPostText\r\n}\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n  return{\r\n\r\n    addPost: (newPostText)=>{\r\n      dispatch(addPostActionCreator(newPostText))\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer=connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\nexport default MyPostsContainer;","import React from 'react';\r\n\r\n\r\nclass ProfileStatus extends React.Component{\r\n\r\n  state={\r\n    editMode: false,\r\n    status: this.props.status\r\n  }\r\n  activateEditMode=()=>{\r\n    this.setState({\r\neditMode:  true\r\n    });\r\n    \r\n  }\r\n  \r\n  deactivateEditMode=()=>{\r\n    this.setState({\r\neditMode:  false\r\n    })\r\n    \r\n    this.props.updateStatus(this.state.status);\r\n  }\r\n  onStatusChange=(e)=>{\r\n    this.setState({\r\nstatus: e.currentTarget.value\r\n    })\r\n    \r\n  }\r\ncomponentDidUpdate(prevProps, prevState){\r\n if(prevProps.status!==this.props.status){\r\n  this.setState({\r\n   status: this.props.status\r\n })\r\n } \r\n\r\n}\r\n  render(){\r\n    console.log(\"render\")\r\n return (\r\n   <div>\r\n     {!this.state.editMode&&\r\n     <div>\r\n   <span onDoubleClick={this.activateEditMode}>{this.props.status||\"-----\"}</span>\r\n    </div>\r\n  }\r\n  {this.state.editMode&&\r\n    <div>\r\n   <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}></input>\r\n    </div>\r\n  }\r\n    </div>\r\n )\r\n}\r\n}\r\nexport default ProfileStatus;","import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks=(props)=>{\r\n\r\n let [editMode, setEditMode]=useState(false);\r\n let [status, setStatus]=useState(props.status);\r\n useEffect(()=>{\r\n  setStatus(props.status); \r\n }, [props.status])\r\n const activateEditMode=()=>{\r\nsetEditMode(true);\r\n }\r\n const deactivateEditMode=()=>{\r\nsetEditMode(false);\r\nprops.updateStatus(status);\r\n }\r\n const onStatusChange=(e)=>{\r\n  setStatus(e.currentTarget.value);\r\n }\r\n return (\r\n   <div>\r\n     {!editMode&&\r\n     <div>\r\n   <span onDoubleClick={activateEditMode}>{props.status||\"------\"}</span>\r\n    </div>\r\n  }\r\n  {editMode&&\r\n    <div>\r\n   <input  onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}></input>\r\n    </div>\r\n  }\r\n    </div>\r\n )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo =(props)=>{\r\n  if(!props.profile){\r\n    return <Preloader/>\r\n  }\r\n return (\r\n  <div >\r\n      <div><img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQQ7CoqlHVkGqkv8cjCtNYY9pI99vjRVpugZg&usqp=CAUhttps://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQQ7CoqlHVkGqkv8cjCtNYY9pI99vjRVpugZg&usqp=CAU\"/></div>\r\n    <div className=\"descriptionBlock\">\r\n    <img src={props.profile.photos.large} />\r\n    \r\n    </div>\r\n   <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n    </div>\r\n )\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo';\r\n\r\nconst Profile =(props)=>{\r\n return (\r\n<div>\r\n  <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n  <MyPostsContainer/>  \r\n </div>\r\n )\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nclass ProfileContainer extends React.Component{\r\n  \r\n  componentDidMount(){\r\n  \r\n    let userId=this.props.match.params.userId;\r\n  if(!userId){\r\n    userId=this.props.authorizedUserId;\r\n    if(!userId){\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\nrender(){\r\n \r\n return (\r\n<Profile {...this.props} \r\nprofile={this.props.profile} \r\nstatus={this.props.status}\r\nupdateStatus={this.props.updateStatus}/>\r\n )\r\n}\r\n}\r\n\r\n\r\nlet mapStateToProps=(state)=>({\r\n profile: state.profilePage.profile,\r\n status: state.profilePage.status,\r\n authorizedUserId: state.auth.userId,\r\n isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n  withRouter\r\n  )(ProfileContainer);"],"sourceRoot":""}